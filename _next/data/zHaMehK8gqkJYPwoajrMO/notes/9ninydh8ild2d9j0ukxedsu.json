{"pageProps":{"note":{"id":"9ninydh8ild2d9j0ukxedsu","title":"TP1 - MGI","desc":"","updated":1664377612220,"created":1664052887259,"nav_exclude":true,"custom":{"nav_exclude":true},"fname":"B1.OE.TP1","type":"note","vault":{"fsPath":"vault"},"contentHash":"1d2b5b702462449cce53407b61605091","links":[{"from":{"fname":"B1.OE","id":"gl1apfmwn08a0zi3hgcy3n9","vaultName":"vault"},"type":"backlink","position":{"start":{"line":28,"column":3,"offset":585},"end":{"line":28,"column":26,"offset":608},"indent":[]},"value":"B1.OE.TP1"}],"anchors":{"calcul-numérique-du-mgi-dun-rrr-par-pnl":{"type":"header","text":"Calcul numérique du MGI d’un RRR par PNL","value":"calcul-numérique-du-mgi-dun-rrr-par-pnl","line":28,"column":0,"depth":1},"1-méthode-de-newton":{"type":"header","text":"1. Méthode de Newton","value":"1-méthode-de-newton","line":56,"column":0,"depth":2},"a-montrer-que-direction--jq-1-cdot-x_d---fq":{"type":"header","text":"A) Montrer que $direction = J(q)^{-1} \\cdot (X_d - f(q)$","value":"a-montrer-que-direction--jq-1-cdot-x_d---fq","line":60,"column":0,"depth":3},"b-implémentation":{"type":"header","text":"B) Implémentation","value":"b-implémentation","line":74,"column":0,"depth":3},"initialisation":{"type":"header","text":"Initialisation","value":"initialisation","line":76,"column":0,"depth":4},"iterations":{"type":"header","text":"Iterations","value":"iterations","line":84,"column":0,"depth":4},"2-méthode-du-gradient":{"type":"header","text":"2. Méthode du Gradient","value":"2-méthode-du-gradient","line":106,"column":0,"depth":2},"3-utilisation-de-scipyoptimize":{"type":"header","text":"3. Utilisation de scipy.optimize","value":"3-utilisation-de-scipyoptimize","line":112,"column":0,"depth":2},"4-optimisation-sous-contrainte":{"type":"header","text":"4. Optimisation sous contrainte","value":"4-optimisation-sous-contrainte","line":118,"column":0,"depth":2},"41-contrainte-de-butée":{"type":"header","text":"4.1 Contrainte de butée","value":"41-contrainte-de-butée","line":120,"column":0,"depth":3},"42-contrainte-sur-la-solution":{"type":"header","text":"4.2 Contrainte sur la solution","value":"42-contrainte-sur-la-solution","line":126,"column":0,"depth":3},"5-travail-à-rendre-en-fin-de-séance":{"type":"header","text":"5. Travail à rendre en fin de séance","value":"5-travail-à-rendre-en-fin-de-séance","line":132,"column":0,"depth":2},"code-fourni":{"type":"header","text":"Code Fourni","value":"code-fourni","line":138,"column":0,"depth":2}},"children":[],"parent":"gl1apfmwn08a0zi3hgcy3n9","data":{}},"body":"<h1 id=\"tp1---mgi\">TP1 - MGI<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#tp1---mgi\"></a></h1>\n<blockquote>\n<p><strong>Avertissement:</strong>\nCette page peut contenir des fautes ! Envoyez-moi un message sur <a href=\"https://matrix.to/#/#UT3-AURO-M2-2223-Request:matrix.org\"><code>#UT3-AURO-M2-2223-Request:matrix.org</code></a> si vous en trouvez, merci.</p>\n</blockquote>\n<blockquote>\n<p>Cours donné par M. Thaix</p>\n</blockquote>\n<p>Support de cours :</p>\n<ul>\n<li><a href=\"https://raw.githubusercontent.com/TunnARK/UT3-AURO-2223-S10-Dendron/main/vault/assets/OE.TP1.Sujet.pdf\">OE.TP1.Sujet.pdf</a></li>\n<li><a href=\"https://github.com/TunnARK/UT3-AURO-2223-S10-Coding/tree/master/OE-TP1-MGI\">GitHub Repository</a></li>\n<li><a href=\"https://docs.scipy.org/doc/scipy/tutorial/optimize.html\">Documentation scipy.optimize</a></li>\n</ul>\n<p>Fonction utile sur python:</p>\n<ul>\n<li><code>np.dot()</code> produit matricielle</li>\n<li><code>np.linalg.inv()</code> inversion matricielle</li>\n<li><code>np.linalg.norm()</code> norme d'un vecteur</li>\n<li><code>Jt=J.transpose()</code> transposer une matrice</li>\n<li><code>list.append()</code> ajout élément dans une liste</li>\n</ul>\n<hr>\n<h1 id=\"calcul-numérique-du-mgi-dun-rrr-par-pnl\">Calcul numérique du MGI d’un RRR par PNL<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#calcul-numérique-du-mgi-dun-rrr-par-pnl\"></a></h1>\n<p><img src=\"/UT3-AURO-2223-S10-Dendron/assets/images/OE.TP1.Sujet-01.png\">\n<img src=\"/UT3-AURO-2223-S10-Dendron/assets/images/OE.TP1.Sujet-02.png\">\n<img src=\"/UT3-AURO-2223-S10-Dendron/assets/images/OE.TP1.Sujet-03.png\"></p>\n<!--\n## Notes Présentation TP\n\n- incrémentation vs solution directe\n- mgd nécessaire pour avoir $X_k$ \n    - idée est que X_k = X_0\n    - mgd donné et jacobienne donnée\n    - $\\dot X = J \\dot q$ donnée\n- Newton\n    - au lieu de calculer la hessiene\n    - on va calculer le zero de $H(q)$\n\n- Gradient\n    - singularite = det de la jaco à 0\n        - attention sbras tendu det de J est 0\n    - afficher l'erreur et espére que l'erreur converge vers 0\n    - attention gradient sensible p.r. au pas\n\n- scipy\n    - ici on cherche le modele alors qu'avant on nous l'a donné et il fallait faire l'algo (ici l'algo est donné)\n-->\n<h2 id=\"1-méthode-de-newton\">1. Méthode de Newton<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#1-méthode-de-newton\"></a></h2>\n<blockquote>\n<p><img src=\"/UT3-AURO-2223-S10-Dendron/assets/images/OE.TP1.Sujet-04.png\"></p>\n</blockquote>\n<h3 id=\"a-montrer-que-direction--jq-1-cdot-x_d---fq\">A) Montrer que <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>d</mi><mi>i</mi><mi>r</mi><mi>e</mi><mi>c</mi><mi>t</mi><mi>i</mi><mi>o</mi><mi>n</mi><mo>=</mo><mi>J</mi><mo stretchy=\"false\">(</mo><mi>q</mi><msup><mo stretchy=\"false\">)</mo><mrow><mo>−</mo><mn>1</mn></mrow></msup><mo>⋅</mo><mo stretchy=\"false\">(</mo><msub><mi>X</mi><mi>d</mi></msub><mo>−</mo><mi>f</mi><mo stretchy=\"false\">(</mo><mi>q</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">direction = J(q)^{-1} \\cdot (X_d - f(q)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\">d</span><span class=\"mord mathnormal\">i</span><span class=\"mord mathnormal\">rec</span><span class=\"mord mathnormal\">t</span><span class=\"mord mathnormal\">i</span><span class=\"mord mathnormal\">o</span><span class=\"mord mathnormal\">n</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.0641em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.09618em;\">J</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">q</span><span class=\"mclose\"><span class=\"mclose\">)</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">−</span><span class=\"mord mtight\">1</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">⋅</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">X</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">d</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">q</span><span class=\"mclose\">)</span></span></span></span></span><a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#a-montrer-que-direction--jq-1-cdot-x_d---fq\"></a></h3>\n<p>D'après le slide 56 du cours, nous avons l'équation pour le modèle linéaire en multi-dimensionnel avec une fonction linéaire <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>H</mi><mo stretchy=\"false\">(</mo><mi>q</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">H(q)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.08125em;\">H</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">q</span><span class=\"mclose\">)</span></span></span></span></span>:</p>\n<div class=\"math math-display\"><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mtable rowspacing=\"0.16em\" columnalign=\"center center center\" columnspacing=\"1em\"><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><msub><mi>q</mi><mrow><mi>k</mi><mo>+</mo><mn>1</mn></mrow></msub></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mo lspace=\"0em\" rspace=\"0em\">=</mo></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mrow><msub><mi>q</mi><mi>k</mi></msub><mo>+</mo><mi mathvariant=\"normal\">∇</mi><mo fence=\"false\" stretchy=\"true\" minsize=\"1.8em\" maxsize=\"1.8em\">(</mo><mi>H</mi><mo stretchy=\"false\">(</mo><mi>q</mi><mo stretchy=\"false\">)</mo><msup><mo fence=\"false\" stretchy=\"true\" minsize=\"1.8em\" maxsize=\"1.8em\">)</mo><mrow><mo>−</mo><mi>t</mi></mrow></msup><mo>⋅</mo><mo fence=\"false\" stretchy=\"true\" minsize=\"1.8em\" maxsize=\"1.8em\">(</mo><mi>H</mi><mo stretchy=\"false\">(</mo><mi>q</mi><mo stretchy=\"false\">)</mo><mo fence=\"false\" stretchy=\"true\" minsize=\"1.8em\" maxsize=\"1.8em\">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><msub><mi>q</mi><mrow><mi>k</mi><mo>+</mo><mn>1</mn></mrow></msub></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mo lspace=\"0em\" rspace=\"0em\">=</mo></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mrow><msub><mi>q</mi><mi>k</mi></msub><mo>+</mo><mi mathvariant=\"normal\">∇</mi><mo fence=\"false\" stretchy=\"true\" minsize=\"1.8em\" maxsize=\"1.8em\">(</mo><msub><mi>X</mi><mi>d</mi></msub><mo>−</mo><mi>f</mi><mo stretchy=\"false\">(</mo><mi>q</mi><mo stretchy=\"false\">)</mo><msup><mo fence=\"false\" stretchy=\"true\" minsize=\"1.8em\" maxsize=\"1.8em\">)</mo><mrow><mo>−</mo><mi>t</mi></mrow></msup><mo>⋅</mo><mo fence=\"false\" stretchy=\"true\" minsize=\"1.8em\" maxsize=\"1.8em\">(</mo><msub><mi>X</mi><mi>d</mi></msub><mo>−</mo><mi>f</mi><mo stretchy=\"false\">(</mo><mi>q</mi><mo stretchy=\"false\">)</mo><mo fence=\"false\" stretchy=\"true\" minsize=\"1.8em\" maxsize=\"1.8em\">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mo lspace=\"0em\" rspace=\"0em\">=</mo></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mo lspace=\"0em\" rspace=\"0em\">=</mo></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mrow><msub><mi>q</mi><mi>k</mi></msub><mo>+</mo><mi>J</mi><mo stretchy=\"false\">(</mo><mi>q</mi><msup><mo stretchy=\"false\">)</mo><mrow><mo>−</mo><mn>1</mn></mrow></msup><mo>⋅</mo><mi>H</mi><mo stretchy=\"false\">(</mo><mi>q</mi><mo stretchy=\"false\">)</mo></mrow></mstyle></mtd></mtr></mtable><annotation encoding=\"application/x-tex\">\\begin{matrix} q_{k+1} &#x26;=&#x26; q_k + \\nabla\\Big(H(q)\\Big)^{-t} \\cdot \\Big(H(q)\\Big)\\\\[0.2cm] q_{k+1} &#x26;=&#x26; q_k + \\nabla\\Big(X_d - f(q)\\Big)^{-t} \\cdot \\Big(X_d - f(q)\\Big)\\\\[0.2cm] &#x26;=&#x26; \\\\[0.2cm] &#x26;=&#x26; q_k + J(q)^{-1} \\cdot H(q)\\\\ \\end{matrix}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:7.4941em;vertical-align:-3.497em;\"></span><span class=\"mord\"><span class=\"mtable\"><span class=\"col-align-c\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:3.997em;\"><span style=\"top:-5.997em;\"><span class=\"pstrut\" style=\"height:3.3335em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">q</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span><span class=\"mbin mtight\">+</span><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2083em;\"><span></span></span></span></span></span></span></span></span><span style=\"top:-3.7345em;\"><span class=\"pstrut\" style=\"height:3.3335em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">q</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span><span class=\"mbin mtight\">+</span><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2083em;\"><span></span></span></span></span></span></span></span></span><span style=\"top:-1.9655em;\"><span class=\"pstrut\" style=\"height:3.3335em;\"></span><span class=\"mord\"></span></span><span style=\"top:-0.1964em;\"><span class=\"pstrut\" style=\"height:3.3335em;\"></span><span class=\"mord\"></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:3.497em;\"><span></span></span></span></span></span><span class=\"arraycolsep\" style=\"width:0.5em;\"></span><span class=\"arraycolsep\" style=\"width:0.5em;\"></span><span class=\"col-align-c\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:3.997em;\"><span style=\"top:-5.997em;\"><span class=\"pstrut\" style=\"height:3.3335em;\"></span><span class=\"mord\"><span class=\"mrel\">=</span></span></span><span style=\"top:-3.7345em;\"><span class=\"pstrut\" style=\"height:3.3335em;\"></span><span class=\"mord\"><span class=\"mrel\">=</span></span></span><span style=\"top:-1.9655em;\"><span class=\"pstrut\" style=\"height:3.3335em;\"></span><span class=\"mord\"><span class=\"mrel\">=</span></span></span><span style=\"top:-0.1964em;\"><span class=\"pstrut\" style=\"height:3.3335em;\"></span><span class=\"mord\"><span class=\"mrel\">=</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:3.497em;\"><span></span></span></span></span></span><span class=\"arraycolsep\" style=\"width:0.5em;\"></span><span class=\"arraycolsep\" style=\"width:0.5em;\"></span><span class=\"col-align-c\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:3.997em;\"><span style=\"top:-5.997em;\"><span class=\"pstrut\" style=\"height:3.3335em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">q</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord\">∇</span><span class=\"mord\"><span class=\"delimsizing size2\">(</span></span><span class=\"mord mathnormal\" style=\"margin-right:0.08125em;\">H</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">q</span><span class=\"mclose\">)</span><span class=\"mord\"><span class=\"mord\"><span class=\"delimsizing size2\">)</span></span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.3335em;\"><span style=\"top:-3.6029em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">−</span><span class=\"mord mathnormal mtight\">t</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">⋅</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord\"><span class=\"delimsizing size2\">(</span></span><span class=\"mord mathnormal\" style=\"margin-right:0.08125em;\">H</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">q</span><span class=\"mclose\">)</span><span class=\"mord\"><span class=\"delimsizing size2\">)</span></span></span></span><span style=\"top:-3.7345em;\"><span class=\"pstrut\" style=\"height:3.3335em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">q</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord\">∇</span><span class=\"mord\"><span class=\"delimsizing size2\">(</span></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">X</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">d</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">q</span><span class=\"mclose\">)</span><span class=\"mord\"><span class=\"mord\"><span class=\"delimsizing size2\">)</span></span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.3335em;\"><span style=\"top:-3.6029em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">−</span><span class=\"mord mathnormal mtight\">t</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">⋅</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord\"><span class=\"delimsizing size2\">(</span></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">X</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">d</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">q</span><span class=\"mclose\">)</span><span class=\"mord\"><span class=\"delimsizing size2\">)</span></span></span></span><span style=\"top:-1.9655em;\"><span class=\"pstrut\" style=\"height:3.3335em;\"></span><span class=\"mord\"></span></span><span style=\"top:-0.1964em;\"><span class=\"pstrut\" style=\"height:3.3335em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">q</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.09618em;\">J</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">q</span><span class=\"mclose\"><span class=\"mclose\">)</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">−</span><span class=\"mord mtight\">1</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">⋅</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.08125em;\">H</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">q</span><span class=\"mclose\">)</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:3.497em;\"><span></span></span></span></span></span></span></span></span></span></span></span></div>\n<h3 id=\"b-implémentation\">B) Implémentation<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#b-implémentation\"></a></h3>\n<h4 id=\"initialisation\">Initialisation<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#initialisation\"></a></h4>\n<p>Pour l'implémentation de la méthode de Newton, nous avons commencé par initialiser <code>qinit</code> et fixer le <em>pas</em> et l'<em>erreur tolérée</em> <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>ϵ</mi></mrow><annotation encoding=\"application/x-tex\">\\epsilon</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">ϵ</span></span></span></span></span>.</p>\n<p>Par défaut, on a fixé le <em>pas</em> à 0.1 et <em>epsilon à 0.001</em>.</p>\n<p>La partie d'initialisation se termine avec la saisie par l'utilisateur du nombre maximum d'itération (utile pour stopper l'algorithm une fois ce nombre atteint).</p>\n<h4 id=\"iterations\">Iterations<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#iterations\"></a></h4>\n<p>La boucle d'iterartion est structuré comme suit :</p>\n<pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">while</span><span class=\"token punctuation\">(</span>Hnorm<span class=\"token operator\">></span>eps <span class=\"token keyword\">and</span> i<span class=\"token operator\">&#x3C;</span>NbIter<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">:</span>\n    <span class=\"token comment\"># Jacobienne</span>\n    J <span class=\"token operator\">=</span> jacobienne<span class=\"token punctuation\">(</span>q<span class=\"token punctuation\">)</span>\n    <span class=\"token comment\"># Calcul de l'inverse</span>\n    Jinv<span class=\"token operator\">=</span>np<span class=\"token punctuation\">.</span>linalg<span class=\"token punctuation\">.</span>inv<span class=\"token punctuation\">(</span>J<span class=\"token punctuation\">)</span>\n    <span class=\"token comment\"># Calcul de l ecart entre le Xbut et le Xc actuel</span>\n    H<span class=\"token operator\">=</span><span class=\"token punctuation\">(</span>Xbut<span class=\"token operator\">-</span>mgd<span class=\"token punctuation\">(</span>q<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token comment\"># Iteration</span>\n    q<span class=\"token operator\">=</span>q<span class=\"token operator\">+</span>pas<span class=\"token operator\">*</span>np<span class=\"token punctuation\">.</span>dot<span class=\"token punctuation\">(</span>Jinv<span class=\"token punctuation\">,</span>H<span class=\"token punctuation\">)</span>\n    <span class=\"token comment\"># Calcul de l erreur avec norme euclidienne</span>\n    Hnorm<span class=\"token operator\">=</span>np<span class=\"token punctuation\">.</span>linalg<span class=\"token punctuation\">.</span>norm<span class=\"token punctuation\">(</span>H<span class=\"token punctuation\">)</span>\n    <span class=\"token comment\"># Remplissage du vecteur avec la norme</span>\n    Hq<span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span>Hnorm<span class=\"token punctuation\">)</span>\n    i<span class=\"token operator\">=</span>i<span class=\"token operator\">+</span><span class=\"token number\">1</span>\n</code></pre>\n<p>La boucle se lance si la métrique choisie (ici on a considéré la norme euclidienne) est supérieure à l'erreur tolérée <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>ϵ</mi></mrow><annotation encoding=\"application/x-tex\">\\epsilon</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">ϵ</span></span></span></span></span></p>\n<h2 id=\"2-méthode-du-gradient\">2. Méthode du Gradient<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#2-méthode-du-gradient\"></a></h2>\n<blockquote>\n<p><img src=\"/UT3-AURO-2223-S10-Dendron/assets/images/OE.TP1.Sujet-05.png\"></p>\n</blockquote>\n<p>..</p>\n<h2 id=\"3-utilisation-de-scipyoptimize\">3. Utilisation de scipy.optimize<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#3-utilisation-de-scipyoptimize\"></a></h2>\n<blockquote>\n<p><img src=\"/UT3-AURO-2223-S10-Dendron/assets/images/OE.TP1.Sujet-06.png\">\n<a href=\"https://docs.scipy.org/doc/scipy/tutorial/optimize.html\">Documentation scipy.optimize</a></p>\n</blockquote>\n<h2 id=\"4-optimisation-sous-contrainte\">4. Optimisation sous contrainte<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#4-optimisation-sous-contrainte\"></a></h2>\n<h3 id=\"41-contrainte-de-butée\">4.1 Contrainte de butée<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#41-contrainte-de-butée\"></a></h3>\n<blockquote>\n<p><img src=\"/UT3-AURO-2223-S10-Dendron/assets/images/OE.TP1.Sujet-07.png\"></p>\n</blockquote>\n<p>..</p>\n<h3 id=\"42-contrainte-sur-la-solution\">4.2 Contrainte sur la solution<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#42-contrainte-sur-la-solution\"></a></h3>\n<blockquote>\n<p><img src=\"/UT3-AURO-2223-S10-Dendron/assets/images/OE.TP1.Sujet-08.png\"></p>\n</blockquote>\n<p>..</p>\n<h2 id=\"5-travail-à-rendre-en-fin-de-séance\">5. Travail à rendre en fin de séance<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#5-travail-à-rendre-en-fin-de-séance\"></a></h2>\n<blockquote>\n<p><img src=\"/UT3-AURO-2223-S10-Dendron/assets/images/OE.TP1.Sujet-09.png\"></p>\n</blockquote>\n<p>..</p>\n<h2 id=\"code-fourni\">Code Fourni<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#code-fourni\"></a></h2>\n<pre class=\"language-python\"><code class=\"language-python\"><span class=\"token comment\">#############</span>\n<span class=\"token comment\"># Code à utiliser pour débuter votre TP</span>\n<span class=\"token comment\">#################</span>\n<span class=\"token keyword\">import</span> matplotlib<span class=\"token punctuation\">.</span>pyplot <span class=\"token keyword\">as</span> plt\n<span class=\"token keyword\">import</span> numpy <span class=\"token keyword\">as</span> np\n<span class=\"token keyword\">import</span> time\n\n<span class=\"token comment\">#################################################</span>\n<span class=\"token comment\"># Calcul du MGD du robot RRR</span>\n<span class=\"token comment\"># INPUT: q = vecteur de configuration (radian, radian, radian)</span>\n<span class=\"token comment\"># OUTPUT: Xc = vecteur de situation = (x,y, theta)</span>\n<span class=\"token comment\"># x,y en mètre et theta en radian</span>\n<span class=\"token keyword\">def</span> <span class=\"token function\">mgd</span><span class=\"token punctuation\">(</span>qrad<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n<span class=\"token comment\">#### Paramètres du robot</span>\n    l<span class=\"token operator\">=</span><span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span>\n    c1<span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>cos<span class=\"token punctuation\">(</span>qrad<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n    s1<span class=\"token operator\">=</span>np<span class=\"token punctuation\">.</span>sin<span class=\"token punctuation\">(</span>qrad<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n    c12<span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>cos<span class=\"token punctuation\">(</span>qrad<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token operator\">+</span>qrad<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n    s12<span class=\"token operator\">=</span>np<span class=\"token punctuation\">.</span>sin<span class=\"token punctuation\">(</span>qrad<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token operator\">+</span>qrad<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n    theta<span class=\"token operator\">=</span> qrad<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token operator\">+</span>qrad<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token operator\">+</span>qrad<span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span>\n    c123<span class=\"token operator\">=</span>np<span class=\"token punctuation\">.</span>cos<span class=\"token punctuation\">(</span>theta<span class=\"token punctuation\">)</span>\n    s123<span class=\"token operator\">=</span>np<span class=\"token punctuation\">.</span>sin<span class=\"token punctuation\">(</span>theta<span class=\"token punctuation\">)</span>\n    x<span class=\"token operator\">=</span>l<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token operator\">*</span>c1 <span class=\"token operator\">+</span> l<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token operator\">*</span>c12 <span class=\"token operator\">+</span>l<span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token operator\">*</span>c123\n    y<span class=\"token operator\">=</span>l<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token operator\">*</span>s1 <span class=\"token operator\">+</span> l<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token operator\">*</span>s12 <span class=\"token operator\">+</span>l<span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token operator\">*</span>s123\n    Xd<span class=\"token operator\">=</span><span class=\"token punctuation\">[</span>x<span class=\"token punctuation\">,</span>y<span class=\"token punctuation\">,</span>theta<span class=\"token punctuation\">]</span>\n    <span class=\"token keyword\">return</span> Xd\n<span class=\"token comment\">#################################################</span>\n<span class=\"token comment\"># test de validation du MGD</span>\n<span class=\"token comment\">##### INPUT de q en degré ###</span>\nqdeg <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">90</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span><span class=\"token number\">90</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">]</span>\nqr <span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>radians<span class=\"token punctuation\">(</span>qdeg<span class=\"token punctuation\">)</span>\nXd<span class=\"token operator\">=</span> mgd<span class=\"token punctuation\">(</span>qr<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"X=\"</span><span class=\"token punctuation\">,</span> Xd<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"Y = \"</span><span class=\"token punctuation\">,</span> Xd<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"Theta (deg)= \"</span><span class=\"token punctuation\">,</span> np<span class=\"token punctuation\">.</span>degrees<span class=\"token punctuation\">(</span>Xd<span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">#################################################</span>\n<span class=\"token comment\"># Calcul de J(q) du robot RRR</span>\n<span class=\"token comment\"># INPUT: q = vecteur de configuration (radian, radian, radian)</span>\n<span class=\"token comment\"># OUTPUT: jacobienne(q) analytique</span>\n<span class=\"token keyword\">def</span> <span class=\"token function\">jacobienne</span><span class=\"token punctuation\">(</span>qrad<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n<span class=\"token comment\">#### Paramètres du robot</span>\n    l<span class=\"token operator\">=</span><span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span>\n    c1<span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>cos<span class=\"token punctuation\">(</span>qrad<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n    s1<span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>sin<span class=\"token punctuation\">(</span>qrad<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n    c12<span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>cos<span class=\"token punctuation\">(</span>qrad<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token operator\">+</span>qrad<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n    s12<span class=\"token operator\">=</span>np<span class=\"token punctuation\">.</span>sin<span class=\"token punctuation\">(</span>qrad<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token operator\">+</span>qrad<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n    theta<span class=\"token operator\">=</span> qrad<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token operator\">+</span>qrad<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token operator\">+</span>qrad<span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span>\n    theta<span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>fmod<span class=\"token punctuation\">(</span>theta<span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token operator\">*</span>np<span class=\"token punctuation\">.</span>pi<span class=\"token punctuation\">)</span>\n    c123<span class=\"token operator\">=</span>np<span class=\"token punctuation\">.</span>cos<span class=\"token punctuation\">(</span>theta<span class=\"token punctuation\">)</span>\n    s123<span class=\"token operator\">=</span>np<span class=\"token punctuation\">.</span>sin<span class=\"token punctuation\">(</span>theta<span class=\"token punctuation\">)</span>\n    Ja<span class=\"token operator\">=</span>np<span class=\"token punctuation\">.</span>array<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span><span class=\"token operator\">-</span><span class=\"token punctuation\">(</span>l<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token operator\">*</span>s1 <span class=\"token operator\">+</span> l<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token operator\">*</span>s12 <span class=\"token operator\">+</span>l<span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token operator\">*</span>s123<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span><span class=\"token punctuation\">(</span>l<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token operator\">*</span>s12 <span class=\"token operator\">+</span>l<span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token operator\">*</span>s123<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span><span class=\"token punctuation\">(</span>l<span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token operator\">*</span>s123<span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">(</span>l<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token operator\">*</span>c1 <span class=\"token operator\">+</span> l<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token operator\">*</span>c12 <span class=\"token operator\">+</span>l<span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token operator\">*</span>c123<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span>l<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token operator\">*</span>c12 <span class=\"token operator\">+</span>l<span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token operator\">*</span>c123<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span>l<span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token operator\">*</span>c123<span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">return</span> Ja\n\n<span class=\"token comment\">###################################################################################</span>\n<span class=\"token comment\"># Afin de donner une situation atteignable pour le robot,</span>\n<span class=\"token comment\"># vous pouvez utiliser le mgd pour définir Xbut à partir d’une configuration en q</span>\n<span class=\"token comment\">###################################################################################</span>\n<span class=\"token comment\">## qbut est donné en degré</span>\nqbutdeg<span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>asarray<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token number\">45</span><span class=\"token punctuation\">,</span> <span class=\"token number\">45</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span><span class=\"token number\">60.</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\">## Calcul Xbut à partir de qbut</span>\nXbut<span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>asarray<span class=\"token punctuation\">(</span>mgd<span class=\"token punctuation\">(</span>np<span class=\"token punctuation\">.</span>radians<span class=\"token punctuation\">(</span>qbutdeg<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Xbut=\"</span><span class=\"token punctuation\">,</span> Xbut<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"Ybut = \"</span><span class=\"token punctuation\">,</span> Xbut<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"Theta but (deg)= \"</span><span class=\"token punctuation\">,</span> np<span class=\"token punctuation\">.</span>degrees<span class=\"token punctuation\">(</span>Xbut<span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">############################################</span>\n<span class=\"token comment\">## Fct d’affichage 2D du robot dans le plan</span>\n<span class=\"token keyword\">def</span> <span class=\"token function\">dessinRRR</span><span class=\"token punctuation\">(</span>q<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">:</span>\nxA<span class=\"token punctuation\">,</span> yA <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\nxB<span class=\"token punctuation\">,</span> yB <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>np<span class=\"token punctuation\">.</span>cos<span class=\"token punctuation\">(</span>q<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> np<span class=\"token punctuation\">.</span>sin<span class=\"token punctuation\">(</span>q<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\nxC<span class=\"token punctuation\">,</span> yC <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>np<span class=\"token punctuation\">.</span>cos<span class=\"token punctuation\">(</span>q<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> np<span class=\"token punctuation\">.</span>cos<span class=\"token punctuation\">(</span>q<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token operator\">+</span>q<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span>np<span class=\"token punctuation\">.</span>sin<span class=\"token punctuation\">(</span>q<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> np<span class=\"token punctuation\">.</span>sin<span class=\"token punctuation\">(</span>q<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token operator\">+</span>q<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\nxD<span class=\"token punctuation\">,</span> yD <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>np<span class=\"token punctuation\">.</span>cos<span class=\"token punctuation\">(</span>q<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> np<span class=\"token punctuation\">.</span>cos<span class=\"token punctuation\">(</span>q<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token operator\">+</span>q<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> np<span class=\"token punctuation\">.</span>cos<span class=\"token punctuation\">(</span>q<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token operator\">+</span>q<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token operator\">+</span>q<span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">(</span>np<span class=\"token punctuation\">.</span>sin<span class=\"token punctuation\">(</span>q<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> np\nX<span class=\"token operator\">=</span><span class=\"token punctuation\">[</span>xA<span class=\"token punctuation\">,</span> xB<span class=\"token punctuation\">,</span>xC<span class=\"token punctuation\">,</span>xD<span class=\"token punctuation\">]</span>\nY<span class=\"token operator\">=</span><span class=\"token punctuation\">[</span>yA<span class=\"token punctuation\">,</span>yB<span class=\"token punctuation\">,</span>yC<span class=\"token punctuation\">,</span>yD<span class=\"token punctuation\">]</span>\nplt<span class=\"token punctuation\">.</span>plot<span class=\"token punctuation\">(</span>X<span class=\"token punctuation\">,</span>Y<span class=\"token punctuation\">,</span> color<span class=\"token operator\">=</span><span class=\"token string\">\"orange\"</span><span class=\"token punctuation\">,</span> lw<span class=\"token operator\">=</span><span class=\"token number\">10</span><span class=\"token punctuation\">,</span> alpha<span class=\"token operator\">=</span><span class=\"token number\">0.5</span><span class=\"token punctuation\">,</span> marker<span class=\"token operator\">=</span><span class=\"token string\">\"o\"</span><span class=\"token punctuation\">,</span> markersize<span class=\"token operator\">=</span><span class=\"token number\">20</span><span class=\"token punctuation\">,</span> mfc<span class=\"token operator\">=</span><span class=\"token string\">\"red\"</span><span class=\"token punctuation\">)</span>\nplt<span class=\"token punctuation\">.</span>axis<span class=\"token punctuation\">(</span>’equal’<span class=\"token punctuation\">)</span>\nplt<span class=\"token punctuation\">.</span>axis<span class=\"token punctuation\">(</span>’off’<span class=\"token punctuation\">)</span>\nplt<span class=\"token punctuation\">.</span>show<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\">################################################</span>\n<span class=\"token comment\">############ Exemple d’affichage</span>\ndessinRRR<span class=\"token punctuation\">(</span>np<span class=\"token punctuation\">.</span>radians<span class=\"token punctuation\">(</span>qbutdeg<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">########################################</span>\n<span class=\"token comment\">######</span>\n<span class=\"token comment\">###### Boucle principale de calcul du MGI</span>\n<span class=\"token comment\">######################################</span>\n<span class=\"token comment\">####</span>\n<span class=\"token comment\">#### Définition de Xbut à partir de qbutdeg en degré</span>\nqbutdeg<span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>asarray<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token number\">45.</span><span class=\"token punctuation\">,</span><span class=\"token number\">45.</span><span class=\"token punctuation\">,</span><span class=\"token operator\">-</span><span class=\"token number\">60</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\nqbut <span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>radians<span class=\"token punctuation\">(</span>qbutdeg<span class=\"token punctuation\">)</span>\nXbut<span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>asarray<span class=\"token punctuation\">(</span>mgd<span class=\"token punctuation\">(</span>qbut<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\ndessinRRR<span class=\"token punctuation\">(</span>qbut<span class=\"token punctuation\">)</span>\n<span class=\"token comment\">#### Définition de qinit</span>\nqinitdeg<span class=\"token operator\">=</span>np<span class=\"token punctuation\">.</span>asarray<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token number\">120.</span><span class=\"token punctuation\">,</span> <span class=\"token number\">25</span><span class=\"token punctuation\">,</span> <span class=\"token number\">45.</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\nqinit<span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>radians<span class=\"token punctuation\">(</span>qinitdeg<span class=\"token punctuation\">)</span>\nXinit<span class=\"token operator\">=</span>np<span class=\"token punctuation\">.</span>asarray<span class=\"token punctuation\">(</span>mgd<span class=\"token punctuation\">(</span>qinit<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Xinit = \"</span><span class=\"token punctuation\">,</span>Xinit<span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">##### A CODER</span>\n<span class=\"token comment\">##q= qinit</span>\n<span class=\"token comment\">##i=0</span>\n<span class=\"token comment\">##</span>\n<span class=\"token comment\">##</span>\n<span class=\"token comment\">##nbpas= ???</span>\n<span class=\"token comment\">##epsx= ???</span>\n<span class=\"token comment\">## erx = valeur initale de du critère qu’on cherche à minimiser</span>\n<span class=\"token comment\">##list_erreur = [erx] #</span>\n<span class=\"token comment\">##start_time = time.process_time()</span>\n<span class=\"token comment\">##while (????):</span>\n<span class=\"token comment\">## direction = ???</span>\n<span class=\"token comment\">## pas= ???</span>\n<span class=\"token comment\">## ...</span>\n<span class=\"token comment\">## ...</span>\n<span class=\"token comment\">## list_erreur.append(erx) # Stocker la valeur du critère dans une liste</span>\n<span class=\"token comment\">## i=i+1</span>\n<span class=\"token comment\">##print(\"--- %s seconds ---\" % round(time.process_time() - start_time,6))</span>\n<span class=\"token comment\">### Visualisation des résultats</span>\n<span class=\"token comment\">##print(\"Valeur finale du critère =\",??,\" après \",i,\" itérations\")</span>\n<span class=\"token comment\">##print(\"qinit en deg =\", qinitdeg)</span>\n<span class=\"token comment\">##print(\"qcfinal en deg\", np.degrees(qc))</span>\n<span class=\"token comment\">##X= mgd(qc)</span>\n<span class=\"token comment\">##print(\"Xinit =\",Xinit, type(Xinit))</span>\n<span class=\"token comment\">##print(\"Xfinal avec qfinal = \",X)</span>\n<span class=\"token comment\">##print(\"Xbut à atteindre =\", Xbut, type(Xbut))</span>\n<span class=\"token comment\">##Xer= Xbut -X</span>\n<span class=\"token comment\">##erx=np.linalg.norm(Xer)</span>\n<span class=\"token comment\">##print(\"Erreur finale=\",erx)</span>\n<span class=\"token comment\">##abs = np.linspace(0,len(list_erreur)-1,(len(list_erreur)))</span>\n<span class=\"token comment\">##plt.plot(abs,list_erreur,’k’)</span>\n<span class=\"token comment\">##plt.show(block=True)</span>\n<span class=\"token comment\">##</span>\n<span class=\"token comment\">##dessinRRR(qc)</span>\n</code></pre>\n<hr>\n<strong>Backlinks</strong>\n<ul>\n<li><a href=\"/UT3-AURO-2223-S10-Dendron/notes/gl1apfmwn08a0zi3hgcy3n9\">OE - Optimisation &#x26; Estimation</a></li>\n</ul>","noteIndex":{"id":"wn8PE1RhG0znK1alrGFYv","title":"Portail Digital du M2 AURO 2022/2023 de RKA","desc":"","updated":1669033598588,"created":1631901573363,"custom":{"nav_order":0,"permalink":"/"},"fname":"root","type":"note","vault":{"fsPath":"vault"},"contentHash":"4d5454b71088c3c74fdb20ab3ed32dab","links":[],"anchors":{"idée":{"type":"header","text":"Idée","value":"idée","line":11,"column":0,"depth":1},"liens-utiles":{"type":"header","text":"Liens utiles","value":"liens-utiles","line":17,"column":0,"depth":1},"remerciement":{"type":"header","text":"Remerciement","value":"remerciement","line":28,"column":0,"depth":1},"contact":{"type":"header","text":"Contact","value":"contact","line":36,"column":0,"depth":1}},"children":["wmc6wolqmlygiqlfcwihsso","43j78t90ywskb5ji2dl1dv6","wifhrlf5o1cm74d5nvmwtmd","g54kxj2u0t1wl4x6uo6vgbt","90wm5tdnz2dnqs3098ttvor"],"parent":null,"data":{},"body":"\n> **Avertissement:**\nCette page peut contenir des fautes ! Envoyez-moi un message sur [`#UT3-AURO-M2-2223-Request:matrix.org`](https://matrix.to/#/#UT3-AURO-M2-2223-Request:matrix.org) si vous en trouvez, merci.\n\n# Idée\n\nCe projet a pour but de regrouper mes notes de cours en utilisant les outils offerts par [Dendron](dendron.so) pour structurer et hiérarchiser l'information.\n\nDe cette façon, ce portail devient un \"one-stop-shop\" pour accéder et/ou retrouver les connaissances acquises durant le master.\n\n# Liens utiles\n\nPour plus d'informations:\n- [Lien officiel du Master AURO de l'Université Paul Sabatier](https://www.univ-tlse3.fr/master-parcours-automatique-et-robotique-auro)\n- [Lien vers la page moodle des cours](https://moodle.univ-tlse3.fr/course/index.php?categoryid=1269)\n- [Dendron Official Website](dendron.so)\n- [Dendron Wiki](https://wiki.dendron.so/)\n- [Dendron's Discord](https://discord.com/invite/xrKTUStHNZ)\n\n\n\n# Remerciement\n\nUn grand merci à GEA pour avoir mis à disposition les scans de ses notes !\n\nJe tiens aussi à remercier mes enseignants pour m'autoriser à prendre en photo les tableaux.\n\nLastly, a big thank you to everyone in [Dendron](dendron.so)'s team and the community for all their support.\n\n# Contact\n\nUn salon [Element](https://element.io/) est mis à disposition des lecteurs pour toutes questions/sugesstions ou pour faire remonter des erreurs/typos.\n\n\n[`#UT3-AURO-M2-2223-Request:matrix.org`](https://matrix.to/#/#UT3-AURO-M2-2223-Request:matrix.org)\n\n---\n\n> This website has been generated using [Dendron](dendron.so) and [GitHub Actions](https://github.com/features/actions).\n\n"},"collectionChildren":null,"customHeadContent":null,"config":{"version":5,"dev":{"enablePreviewV2":true},"commands":{"lookup":{"note":{"selectionMode":"extract","confirmVaultOnCreate":false,"leaveTrace":false,"bubbleUpCreateNew":true,"fuzzThreshold":0.2,"vaultSelectionModeOnCreate":"smart"}},"insertNote":{"initialValue":"templates"},"insertNoteLink":{"aliasMode":"none","enableMultiSelect":false},"insertNoteIndex":{"enableMarker":false},"randomNote":{},"copyNoteLink":{"aliasMode":"title"},"templateHierarchy":"template"},"workspace":{"vaults":[{"fsPath":"vault"}],"journal":{"dailyDomain":"daily","name":"journal","dateFormat":"y.MM.dd","addBehavior":"childOfDomain"},"scratch":{"name":"scratch","dateFormat":"y.MM.dd.HHmmss","addBehavior":"asOwnDomain"},"graph":{"zoomSpeed":1,"createStub":false},"enableAutoCreateOnDefinition":false,"enableXVaultWikiLink":false,"enableRemoteVaultInit":true,"workspaceVaultSyncMode":"noCommit","enableAutoFoldFrontmatter":false,"maxPreviewsCached":10,"maxNoteLength":204800,"task":{"name":"","dateFormat":"","addBehavior":"childOfCurrent","statusSymbols":{"":" ","wip":"w","done":"x","assigned":"a","moved":"m","blocked":"b","delegated":"l","dropped":"d","pending":"y"},"prioritySymbols":{"H":"high","M":"medium","L":"low"},"todoIntegration":false,"createTaskSelectionType":"selection2link","taskCompleteStatus":["done","x"]},"enableUserTags":true,"enableHashTags":true,"dendronVersion":"0.95.0","enableEditorDecorations":true,"enableFullHierarchyNoteTitle":false},"preview":{"enableFMTitle":true,"enableNoteTitleForLink":true,"enableMermaid":true,"enablePrettyRefs":true,"enableKatex":true,"automaticallyShowPreview":false,"enableFrontmatterTags":true,"enableHashesForFMTags":false},"publishing":{"enableFMTitle":true,"enableNoteTitleForLink":true,"enablePrettyRefs":true,"enableKatex":true,"copyAssets":true,"siteHierarchies":["root"],"writeStubs":false,"siteRootDir":"docs","seo":{"title":"Dendron","description":"Personal knowledge space"},"github":{"enableEditLink":true,"editLinkText":"Edit this page on GitHub","editBranch":"main","editViewMode":"tree"},"enableSiteLastModified":true,"enableFrontmatterTags":true,"enableHashesForFMTags":false,"enableRandomlyColoredTags":true,"enableTaskNotes":true,"enablePrettyLinks":true,"searchMode":"lookup","enableMermaid":true,"assetsPrefix":"/UT3-AURO-2223-S10-Dendron","siteUrl":"https://tunnark.github.io","duplicateNoteBehavior":{"action":"useVault","payload":["vault"]},"theme":"dark","siteFaviconPath":"favicon.ico","siteIndex":"root"}}},"__N_SSG":true}