{"pageProps":{"note":{"id":"etqxw4ngfung3bunltx2gsk","title":"Introduction to Modern CMake","desc":"","updated":1664744440648,"created":1664744410693,"custom":{},"fname":"B1.COOSATR.BackUpTalks20221001.modern-cmake","type":"note","vault":{"fsPath":"vault"},"contentHash":"860c808eaf28f70504797dc26d18538c","links":[],"anchors":{"this-presentation":{"type":"header","text":"This presentation","value":"this-presentation","line":25,"column":0,"depth":2},"available-at":{"type":"header","text":"Available at","value":"available-at","line":27,"column":0,"depth":3},"under-license":{"type":"header","text":"Under License","value":"under-license","line":34,"column":0,"depth":3},"this-presentation-continued":{"type":"header","text":"This presentation (continued)","value":"this-presentation-continued","line":44,"column":0,"depth":2},"source":{"type":"header","text":"Source","value":"source","line":46,"column":0,"depth":3},"discussions":{"type":"header","text":"Discussions","value":"discussions","line":53,"column":0,"depth":3},"c-workflow":{"type":"header","text":"C++ Workflow","value":"c-workflow","line":59,"column":0,"depth":2},"configure":{"type":"header","text":"Configure","value":"configure","line":61,"column":0,"depth":3},"compile":{"type":"header","text":"Compile","value":"compile","line":68,"column":0,"depth":3},"run":{"type":"header","text":"Run","value":"run","line":75,"column":0,"depth":3},"example":{"type":"header","text":"Example","value":"example","line":79,"column":0,"depth":2},"legacy-cmake":{"type":"header","text":"Legacy CMake","value":"legacy-cmake","line":95,"column":0,"depth":2},"finda-depcmake":{"type":"header","text":"FindA-dep.cmake","value":"finda-depcmake","line":97,"column":0,"depth":3},"cmakeliststxt":{"type":"header","text":"CMakeLists.txt","value":"cmakeliststxt","line":106,"column":0,"depth":3},"modern-cmake":{"type":"header","text":"Modern CMake","value":"modern-cmake","line":115,"column":0,"depth":2},"cmakeliststxt-1":{"type":"header","text":"CMakeLists.txt","value":"cmakeliststxt-1","line":117,"column":0,"depth":3},"a-dep-configcmake":{"type":"header","text":"a-dep-config.cmake","value":"a-dep-configcmake","line":125,"column":0,"depth":3},"advantages":{"type":"header","text":"Advantages","value":"advantages","line":134,"column":0,"depth":2},"relocation":{"type":"header","text":"Relocation","value":"relocation","line":152,"column":0,"depth":2},"my-lib-configcmake-from-legacy-a-dep":{"type":"header","text":"my-lib-config.cmake from legacy a-dep","value":"my-lib-configcmake-from-legacy-a-dep","line":154,"column":0,"depth":3},"my-lib-configcmake-from-modern-a-dep":{"type":"header","text":"my-lib-config.cmake from modern a-dep","value":"my-lib-configcmake-from-modern-a-dep","line":166,"column":0,"depth":3},"thats-all-folks-":{"type":"header","text":"That's all folks !","value":"thats-all-folks-","line":178,"column":0,"depth":2}},"children":[],"parent":"s9ur71r5msa45x1cx0qeful","data":{}},"body":"<h1 id=\"introduction-to-modern-cmake\">Introduction to Modern CMake<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#introduction-to-modern-cmake\"></a></h1>\n<p><strong>Source:</strong> <a href=\"https://gitlab.laas.fr/gsaurel/talks\">GitLab Repo 'Talks'</a></p>\n<hr>\n<!--\nid: trraffztts6499imvn5e1q0\ntitle: Introduction to Modern CMake\ndesc: ''\nupdated: 1664628178080\ncreated: 1664628178080\nsubtitle: C++ dependency tutorial\ntheme: laas\nauthor: Guilhem Saurel\nmainfont: Source Serif 4\nmonofont: Source Code Pro\n-->\n<h2 id=\"this-presentation\">This presentation<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#this-presentation\"></a></h2>\n<h3 id=\"available-at\">Available at<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#available-at\"></a></h3>\n<p>\\centering</p>\n<p><a href=\"https://homepages.laas.fr/gsaurel/talks/modern-cmake.pdf\"><code>https://homepages.laas.fr/gsaurel/talks/ modern-cmake.pdf</code></a></p>\n<h3 id=\"under-license\">Under License<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#under-license\"></a></h3>\n<p>\\centering</p>\n<p><img src=\"/UT3-AURO-2223-S10-Dendron/media/cc.png\" alt=\"CC\" style=\"\">\n<img src=\"/UT3-AURO-2223-S10-Dendron/media/by.png\" alt=\"BY\" style=\"\">\n<img src=\"/UT3-AURO-2223-S10-Dendron/media/sa.png\" alt=\"SA\" style=\"\"></p>\n<p><a href=\"https://creativecommons.org/licenses/by-sa/4.0/\">https://creativecommons.org/licenses/by-sa/4.0/</a></p>\n<h2 id=\"this-presentation-continued\">This presentation (continued)<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#this-presentation-continued\"></a></h2>\n<h3 id=\"source\">Source<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#source\"></a></h3>\n<p>\\centering</p>\n<p><a href=\"https://gitlab.laas.fr/gsaurel/talks/-/blob/main/modern-cmake.md\"><code>https://gitlab.laas.fr/gsaurel/talks : modern-cmake.md</code></a></p>\n<h3 id=\"discussions\">Discussions<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#discussions\"></a></h3>\n<p>\\centering</p>\n<p>\\url{<a href=\"https://im.laas.fr/%5C#/room/%5C#modern-cmake:laas.fr%7D\">https://im.laas.fr/\\#/room/\\#modern-cmake:laas.fr}</a></p>\n<h2 id=\"c-workflow\">C++ Workflow<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#c-workflow\"></a></h2>\n<h3 id=\"configure\">Configure<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#configure\"></a></h3>\n<ul>\n<li>Find the dependencies you need</li>\n<li>Declare the options you want</li>\n</ul>\n<p>. . .</p>\n<h3 id=\"compile\">Compile<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#compile\"></a></h3>\n<ul>\n<li>Generate the right arguments for your compiler</li>\n<li>Run it</li>\n</ul>\n<p>. . .</p>\n<h3 id=\"run\">Run<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#run\"></a></h3>\n<ul>\n<li>Start your executable with its associated <code>*.so</code></li>\n</ul>\n<h2 id=\"example\">Example<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#example\"></a></h2>\n<ul>\n<li>You develop a library called \"my-lib\"</li>\n<li>It needs a dependency from someone else called \"a-dep\"</li>\n</ul>\n<p>. . .</p>\n<pre><code>└── $A_DEP_INSTALL_PREFIX\n    ├── include\n    │   └── a-dep\n    │       └── fwd.hpp\n    └── lib\n        └── liba-dep.so\n</code></pre>\n<h2 id=\"legacy-cmake\">Legacy CMake<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#legacy-cmake\"></a></h2>\n<h3 id=\"finda-depcmake\"><code>FindA-dep.cmake</code><a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#finda-depcmake\"></a></h3>\n<pre class=\"language-cmake\"><code class=\"language-cmake\"><span class=\"token keyword\">find_path</span><span class=\"token punctuation\">(</span>a_dep_INCLUDE_DIRS NAMES a-dep/fwd.hpp<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">find_library</span><span class=\"token punctuation\">(</span>a_dep_LIBRARIES NAMES liba-dep.so<span class=\"token punctuation\">)</span>\n</code></pre>\n<p>. . .</p>\n<h3 id=\"cmakeliststxt\"><code>CMakeLists.txt</code><a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#cmakeliststxt\"></a></h3>\n<pre class=\"language-cmake\"><code class=\"language-cmake\"><span class=\"token keyword\">find_package</span><span class=\"token punctuation\">(</span>a-dep REQUIRED<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">include_directories</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">${</span>a_dep_INCLUDE_DIRS<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">link_libraries</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">${</span>a_dep_LIBRARIES<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">add_library</span><span class=\"token punctuation\">(</span>my-prog main.cpp include/my-proj/fwd.hpp<span class=\"token punctuation\">)</span>\n</code></pre>\n<h2 id=\"modern-cmake\">Modern CMake<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#modern-cmake\"></a></h2>\n<h3 id=\"cmakeliststxt-1\"><code>CMakeLists.txt</code><a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#cmakeliststxt-1\"></a></h3>\n<pre class=\"language-cmake\"><code class=\"language-cmake\"><span class=\"token keyword\">find_package</span><span class=\"token punctuation\">(</span>a-dep REQUIRED<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">add_library</span><span class=\"token punctuation\">(</span>my-lib main.cpp include/my-prog/fwd.hpp<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">target_link_libraries</span><span class=\"token punctuation\">(</span>my-prog <span class=\"token namespace\">PUBLIC</span> a-<span class=\"token inserted class-name\">dep::a</span>-dep<span class=\"token punctuation\">)</span>\n</code></pre>\n<h3 id=\"a-dep-configcmake\"><code>a-dep-config.cmake</code><a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#a-dep-configcmake\"></a></h3>\n<pre class=\"language-cmake\"><code class=\"language-cmake\"><span class=\"token keyword\">add_library</span><span class=\"token punctuation\">(</span>a-<span class=\"token inserted class-name\">dep::a</span>-dep <span class=\"token namespace\">SHARED</span> <span class=\"token property\">IMPORTED</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">set_target_properties</span><span class=\"token punctuation\">(</span>a-<span class=\"token inserted class-name\">dep::a</span>-dep <span class=\"token namespace\">PROPERTIES</span>\n  <span class=\"token property\">LINK_LIBRARIES</span> <span class=\"token string\">\"liba-dep.so\"</span>\n  <span class=\"token property\">INCLUDE_DIRECTORIES</span> <span class=\"token string\">\"<span class=\"token interpolation\"><span class=\"token punctuation\">${</span><span class=\"token variable\">_IMPORTED_PREFIX</span><span class=\"token punctuation\">}</span></span>/include\"</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<h2 id=\"advantages\">Advantages<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#advantages\"></a></h2>\n<ol>\n<li><code>a-dep</code> can change whatever it needs</li>\n</ol>\n<p>. . .</p>\n<ol start=\"2\">\n<li>No more naming issues like</li>\n</ol>\n<pre class=\"language-cmake\"><code class=\"language-cmake\"><span class=\"token keyword\">set</span><span class=\"token punctuation\">(</span>A_DEP_INCLUDE_DIRS <span class=\"token punctuation\">${</span>a_dep_INCLUDE_DIRS<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">set</span><span class=\"token punctuation\">(</span>A_DEP_INCLUDE_DIR <span class=\"token punctuation\">${</span>a_dep_INCLUDE_DIRS<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">set</span><span class=\"token punctuation\">(</span>a_dep_INCLUDE_DIR <span class=\"token punctuation\">${</span>a_dep_INCLUDE_DIRS<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<p>. . .</p>\n<ol start=\"3\">\n<li>Relocatable packages</li>\n</ol>\n<h2 id=\"relocation\">Relocation<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#relocation\"></a></h2>\n<h3 id=\"my-lib-configcmake-from-legacy-a-dep\"><code>my-lib-config.cmake</code> from legacy a-dep<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#my-lib-configcmake-from-legacy-a-dep\"></a></h3>\n<pre class=\"language-cmake\"><code class=\"language-cmake\"><span class=\"token keyword\">add_library</span><span class=\"token punctuation\">(</span>my-<span class=\"token inserted class-name\">lib::my</span>-lib <span class=\"token namespace\">SHARED</span> <span class=\"token property\">IMPORTED</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">set_target_properties</span><span class=\"token punctuation\">(</span>my-<span class=\"token inserted class-name\">lib::my</span>-lib <span class=\"token namespace\">PROPERTIES</span>\n  <span class=\"token property\">LINK_LIBRARIES</span> <span class=\"token string\">\"libmy-lib.so;/usr/lib/liba-dep.so\"</span>\n  <span class=\"token property\">INCLUDE_DIRECTORIES</span>\n  <span class=\"token string\">\"<span class=\"token interpolation\"><span class=\"token punctuation\">${</span><span class=\"token variable\">_IMPORTED_PREFIX</span><span class=\"token punctuation\">}</span></span>/include;/usr/include\"</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<p>. . .</p>\n<h3 id=\"my-lib-configcmake-from-modern-a-dep\"><code>my-lib-config.cmake</code> from modern a-dep<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#my-lib-configcmake-from-modern-a-dep\"></a></h3>\n<pre class=\"language-cmake\"><code class=\"language-cmake\"><span class=\"token function\">find_dependency</span><span class=\"token punctuation\">(</span>a-dep REQUIRED<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">add_library</span><span class=\"token punctuation\">(</span>my-<span class=\"token inserted class-name\">lib::my</span>-lib <span class=\"token namespace\">SHARED</span> <span class=\"token property\">IMPORTED</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">set_target_properties</span><span class=\"token punctuation\">(</span>my-<span class=\"token inserted class-name\">lib::my</span>-lib <span class=\"token namespace\">PROPERTIES</span>\n  LINK_DEPENDENT_LIBRARIES <span class=\"token string\">\"a-dep::a-dep\"</span>\n  <span class=\"token property\">LINK_LIBRARIES</span> <span class=\"token string\">\"libmy-lib.so\"</span>\n  <span class=\"token property\">INCLUDE_DIRECTORIES</span> <span class=\"token string\">\"<span class=\"token interpolation\"><span class=\"token punctuation\">${</span><span class=\"token variable\">_IMPORTED_PREFIX</span><span class=\"token punctuation\">}</span></span>/include\"</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<h2 id=\"thats-all-folks-\">That's all folks !<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#thats-all-folks-\"></a></h2>\n<p>Thanks for your time :)</p>","noteIndex":{"id":"wn8PE1RhG0znK1alrGFYv","title":"Portail Digital du M2 AURO 2022/2023 de RKA","desc":"","updated":1669033598588,"created":1631901573363,"custom":{"nav_order":0,"permalink":"/"},"fname":"root","type":"note","vault":{"fsPath":"vault"},"contentHash":"4d5454b71088c3c74fdb20ab3ed32dab","links":[],"anchors":{"idée":{"type":"header","text":"Idée","value":"idée","line":11,"column":0,"depth":1},"liens-utiles":{"type":"header","text":"Liens utiles","value":"liens-utiles","line":17,"column":0,"depth":1},"remerciement":{"type":"header","text":"Remerciement","value":"remerciement","line":28,"column":0,"depth":1},"contact":{"type":"header","text":"Contact","value":"contact","line":36,"column":0,"depth":1}},"children":["wmc6wolqmlygiqlfcwihsso","43j78t90ywskb5ji2dl1dv6","wifhrlf5o1cm74d5nvmwtmd","g54kxj2u0t1wl4x6uo6vgbt","90wm5tdnz2dnqs3098ttvor"],"parent":null,"data":{},"body":"\n> **Avertissement:**\nCette page peut contenir des fautes ! Envoyez-moi un message sur [`#UT3-AURO-M2-2223-Request:matrix.org`](https://matrix.to/#/#UT3-AURO-M2-2223-Request:matrix.org) si vous en trouvez, merci.\n\n# Idée\n\nCe projet a pour but de regrouper mes notes de cours en utilisant les outils offerts par [Dendron](dendron.so) pour structurer et hiérarchiser l'information.\n\nDe cette façon, ce portail devient un \"one-stop-shop\" pour accéder et/ou retrouver les connaissances acquises durant le master.\n\n# Liens utiles\n\nPour plus d'informations:\n- [Lien officiel du Master AURO de l'Université Paul Sabatier](https://www.univ-tlse3.fr/master-parcours-automatique-et-robotique-auro)\n- [Lien vers la page moodle des cours](https://moodle.univ-tlse3.fr/course/index.php?categoryid=1269)\n- [Dendron Official Website](dendron.so)\n- [Dendron Wiki](https://wiki.dendron.so/)\n- [Dendron's Discord](https://discord.com/invite/xrKTUStHNZ)\n\n\n\n# Remerciement\n\nUn grand merci à GEA pour avoir mis à disposition les scans de ses notes !\n\nJe tiens aussi à remercier mes enseignants pour m'autoriser à prendre en photo les tableaux.\n\nLastly, a big thank you to everyone in [Dendron](dendron.so)'s team and the community for all their support.\n\n# Contact\n\nUn salon [Element](https://element.io/) est mis à disposition des lecteurs pour toutes questions/sugesstions ou pour faire remonter des erreurs/typos.\n\n\n[`#UT3-AURO-M2-2223-Request:matrix.org`](https://matrix.to/#/#UT3-AURO-M2-2223-Request:matrix.org)\n\n---\n\n> This website has been generated using [Dendron](dendron.so) and [GitHub Actions](https://github.com/features/actions).\n\n"},"collectionChildren":null,"customHeadContent":null,"config":{"version":5,"dev":{"enablePreviewV2":true},"commands":{"lookup":{"note":{"selectionMode":"extract","confirmVaultOnCreate":false,"leaveTrace":false,"bubbleUpCreateNew":true,"fuzzThreshold":0.2,"vaultSelectionModeOnCreate":"smart"}},"insertNote":{"initialValue":"templates"},"insertNoteLink":{"aliasMode":"none","enableMultiSelect":false},"insertNoteIndex":{"enableMarker":false},"randomNote":{},"copyNoteLink":{"aliasMode":"title"},"templateHierarchy":"template"},"workspace":{"vaults":[{"fsPath":"vault"}],"journal":{"dailyDomain":"daily","name":"journal","dateFormat":"y.MM.dd","addBehavior":"childOfDomain"},"scratch":{"name":"scratch","dateFormat":"y.MM.dd.HHmmss","addBehavior":"asOwnDomain"},"graph":{"zoomSpeed":1,"createStub":false},"enableAutoCreateOnDefinition":false,"enableXVaultWikiLink":false,"enableRemoteVaultInit":true,"workspaceVaultSyncMode":"noCommit","enableAutoFoldFrontmatter":false,"maxPreviewsCached":10,"maxNoteLength":204800,"task":{"name":"","dateFormat":"","addBehavior":"childOfCurrent","statusSymbols":{"":" ","wip":"w","done":"x","assigned":"a","moved":"m","blocked":"b","delegated":"l","dropped":"d","pending":"y"},"prioritySymbols":{"H":"high","M":"medium","L":"low"},"todoIntegration":false,"createTaskSelectionType":"selection2link","taskCompleteStatus":["done","x"]},"enableUserTags":true,"enableHashTags":true,"dendronVersion":"0.95.0","enableEditorDecorations":true,"enableFullHierarchyNoteTitle":false},"preview":{"enableFMTitle":true,"enableNoteTitleForLink":true,"enableMermaid":true,"enablePrettyRefs":true,"enableKatex":true,"automaticallyShowPreview":false,"enableFrontmatterTags":true,"enableHashesForFMTags":false},"publishing":{"enableFMTitle":true,"enableNoteTitleForLink":true,"enablePrettyRefs":true,"enableKatex":true,"copyAssets":true,"siteHierarchies":["root"],"writeStubs":false,"siteRootDir":"docs","seo":{"title":"Dendron","description":"Personal knowledge space"},"github":{"enableEditLink":true,"editLinkText":"Edit this page on GitHub","editBranch":"main","editViewMode":"tree"},"enableSiteLastModified":true,"enableFrontmatterTags":true,"enableHashesForFMTags":false,"enableRandomlyColoredTags":true,"enableTaskNotes":true,"enablePrettyLinks":true,"searchMode":"lookup","enableMermaid":true,"assetsPrefix":"/UT3-AURO-2223-S10-Dendron","siteUrl":"https://tunnark.github.io","duplicateNoteBehavior":{"action":"useVault","payload":["vault"]},"theme":"dark","siteFaviconPath":"favicon.ico","siteIndex":"root"}}},"__N_SSG":true}