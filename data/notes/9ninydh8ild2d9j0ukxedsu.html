<h1 id="tp1---mgi">TP1 - MGI<a aria-hidden="true" class="anchor-heading icon-link" href="#tp1---mgi"></a></h1>
<blockquote>
<p><strong>Avertissement:</strong>
Cette page peut contenir des fautes ! Envoyez-moi un message sur <a href="https://matrix.to/#/#UT3-AURO-M2-2223-Request:matrix.org"><code>#UT3-AURO-M2-2223-Request:matrix.org</code></a> si vous en trouvez, merci.</p>
</blockquote>
<blockquote>
<p>Cours donné par M. Thaix</p>
</blockquote>
<p>Support de cours :</p>
<ul>
<li><a href="https://raw.githubusercontent.com/TunnARK/UT3-AURO-2223-S10-Dendron/main/vault/assets/OE.TP1.Sujet.pdf">OE.TP1.Sujet.pdf</a></li>
<li><a href="https://github.com/TunnARK/UT3-AURO-2223-S10-Coding/tree/master/OE-TP1-MGI">GitHub Repository</a></li>
<li><a href="https://docs.scipy.org/doc/scipy/tutorial/optimize.html">Documentation scipy.optimize</a></li>
</ul>
<p>Fonction utile sur python:</p>
<ul>
<li><code>np.dot()</code> produit matricielle</li>
<li><code>np.linalg.inv()</code> inversion matricielle</li>
<li><code>np.linalg.norm()</code> norme d'un vecteur</li>
<li><code>Jt=J.transpose()</code> transposer une matrice</li>
<li><code>list.append()</code> ajout élément dans une liste</li>
</ul>
<hr>
<h1 id="calcul-numérique-du-mgi-dun-rrr-par-pnl">Calcul numérique du MGI d’un RRR par PNL<a aria-hidden="true" class="anchor-heading icon-link" href="#calcul-numérique-du-mgi-dun-rrr-par-pnl"></a></h1>
<p><img src="/UT3-AURO-2223-S10-Dendron/assets/images/OE.TP1.Sujet-01.png">
<img src="/UT3-AURO-2223-S10-Dendron/assets/images/OE.TP1.Sujet-02.png">
<img src="/UT3-AURO-2223-S10-Dendron/assets/images/OE.TP1.Sujet-03.png"></p>
<!--
## Notes Présentation TP

- incrémentation vs solution directe
- mgd nécessaire pour avoir $X_k$ 
    - idée est que X_k = X_0
    - mgd donné et jacobienne donnée
    - $\dot X = J \dot q$ donnée
- Newton
    - au lieu de calculer la hessiene
    - on va calculer le zero de $H(q)$

- Gradient
    - singularite = det de la jaco à 0
        - attention sbras tendu det de J est 0
    - afficher l'erreur et espére que l'erreur converge vers 0
    - attention gradient sensible p.r. au pas

- scipy
    - ici on cherche le modele alors qu'avant on nous l'a donné et il fallait faire l'algo (ici l'algo est donné)
-->
<h2 id="1-méthode-de-newton">1. Méthode de Newton<a aria-hidden="true" class="anchor-heading icon-link" href="#1-méthode-de-newton"></a></h2>
<blockquote>
<p><img src="/UT3-AURO-2223-S10-Dendron/assets/images/OE.TP1.Sujet-04.png"></p>
</blockquote>
<h3 id="a-montrer-que-direction--jq-1-cdot-x_d---fq">A) Montrer que <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>d</mi><mi>i</mi><mi>r</mi><mi>e</mi><mi>c</mi><mi>t</mi><mi>i</mi><mi>o</mi><mi>n</mi><mo>=</mo><mi>J</mi><mo stretchy="false">(</mo><mi>q</mi><msup><mo stretchy="false">)</mo><mrow><mo>−</mo><mn>1</mn></mrow></msup><mo>⋅</mo><mo stretchy="false">(</mo><msub><mi>X</mi><mi>d</mi></msub><mo>−</mo><mi>f</mi><mo stretchy="false">(</mo><mi>q</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">direction = J(q)^{-1} \cdot (X_d - f(q)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">d</span><span class="mord mathnormal">i</span><span class="mord mathnormal">rec</span><span class="mord mathnormal">t</span><span class="mord mathnormal">i</span><span class="mord mathnormal">o</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.09618em;">J</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">d</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="mclose">)</span></span></span></span></span><a aria-hidden="true" class="anchor-heading icon-link" href="#a-montrer-que-direction--jq-1-cdot-x_d---fq"></a></h3>
<p>D'après le slide 56 du cours, nous avons l'équation pour le modèle linéaire en multi-dimensionnel avec une fonction linéaire <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>H</mi><mo stretchy="false">(</mo><mi>q</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">H(q)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="mclose">)</span></span></span></span></span>:</p>
<div class="math math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.16em" columnalign="center center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>q</mi><mrow><mi>k</mi><mo>+</mo><mn>1</mn></mrow></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mo lspace="0em" rspace="0em">=</mo></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mi>q</mi><mi>k</mi></msub><mo>+</mo><mi mathvariant="normal">∇</mi><mo fence="false" stretchy="true" minsize="1.8em" maxsize="1.8em">(</mo><mi>H</mi><mo stretchy="false">(</mo><mi>q</mi><mo stretchy="false">)</mo><msup><mo fence="false" stretchy="true" minsize="1.8em" maxsize="1.8em">)</mo><mrow><mo>−</mo><mi>t</mi></mrow></msup><mo>⋅</mo><mo fence="false" stretchy="true" minsize="1.8em" maxsize="1.8em">(</mo><mi>H</mi><mo stretchy="false">(</mo><mi>q</mi><mo stretchy="false">)</mo><mo fence="false" stretchy="true" minsize="1.8em" maxsize="1.8em">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>q</mi><mrow><mi>k</mi><mo>+</mo><mn>1</mn></mrow></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mo lspace="0em" rspace="0em">=</mo></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mi>q</mi><mi>k</mi></msub><mo>+</mo><mi mathvariant="normal">∇</mi><mo fence="false" stretchy="true" minsize="1.8em" maxsize="1.8em">(</mo><msub><mi>X</mi><mi>d</mi></msub><mo>−</mo><mi>f</mi><mo stretchy="false">(</mo><mi>q</mi><mo stretchy="false">)</mo><msup><mo fence="false" stretchy="true" minsize="1.8em" maxsize="1.8em">)</mo><mrow><mo>−</mo><mi>t</mi></mrow></msup><mo>⋅</mo><mo fence="false" stretchy="true" minsize="1.8em" maxsize="1.8em">(</mo><msub><mi>X</mi><mi>d</mi></msub><mo>−</mo><mi>f</mi><mo stretchy="false">(</mo><mi>q</mi><mo stretchy="false">)</mo><mo fence="false" stretchy="true" minsize="1.8em" maxsize="1.8em">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mo lspace="0em" rspace="0em">=</mo></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mo lspace="0em" rspace="0em">=</mo></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mi>q</mi><mi>k</mi></msub><mo>+</mo><mi>J</mi><mo stretchy="false">(</mo><mi>q</mi><msup><mo stretchy="false">)</mo><mrow><mo>−</mo><mn>1</mn></mrow></msup><mo>⋅</mo><mi>H</mi><mo stretchy="false">(</mo><mi>q</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{matrix} q_{k+1} &#x26;=&#x26; q_k + \nabla\Big(H(q)\Big)^{-t} \cdot \Big(H(q)\Big)\\[0.2cm] q_{k+1} &#x26;=&#x26; q_k + \nabla\Big(X_d - f(q)\Big)^{-t} \cdot \Big(X_d - f(q)\Big)\\[0.2cm] &#x26;=&#x26; \\[0.2cm] &#x26;=&#x26; q_k + J(q)^{-1} \cdot H(q)\\ \end{matrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:7.4941em;vertical-align:-3.497em;"></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.997em;"><span style="top:-5.997em;"><span class="pstrut" style="height:3.3335em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.7345em;"><span class="pstrut" style="height:3.3335em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span></span></span><span style="top:-1.9655em;"><span class="pstrut" style="height:3.3335em;"></span><span class="mord"></span></span><span style="top:-0.1964em;"><span class="pstrut" style="height:3.3335em;"></span><span class="mord"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:3.497em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.997em;"><span style="top:-5.997em;"><span class="pstrut" style="height:3.3335em;"></span><span class="mord"><span class="mrel">=</span></span></span><span style="top:-3.7345em;"><span class="pstrut" style="height:3.3335em;"></span><span class="mord"><span class="mrel">=</span></span></span><span style="top:-1.9655em;"><span class="pstrut" style="height:3.3335em;"></span><span class="mord"><span class="mrel">=</span></span></span><span style="top:-0.1964em;"><span class="pstrut" style="height:3.3335em;"></span><span class="mord"><span class="mrel">=</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:3.497em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.997em;"><span style="top:-5.997em;"><span class="pstrut" style="height:3.3335em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">∇</span><span class="mord"><span class="delimsizing size2">(</span></span><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="mclose">)</span><span class="mord"><span class="mord"><span class="delimsizing size2">)</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.3335em;"><span style="top:-3.6029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mathnormal mtight">t</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="delimsizing size2">(</span></span><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="mclose">)</span><span class="mord"><span class="delimsizing size2">)</span></span></span></span><span style="top:-3.7345em;"><span class="pstrut" style="height:3.3335em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">∇</span><span class="mord"><span class="delimsizing size2">(</span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">d</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="mclose">)</span><span class="mord"><span class="mord"><span class="delimsizing size2">)</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.3335em;"><span style="top:-3.6029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mathnormal mtight">t</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="delimsizing size2">(</span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">d</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="mclose">)</span><span class="mord"><span class="delimsizing size2">)</span></span></span></span><span style="top:-1.9655em;"><span class="pstrut" style="height:3.3335em;"></span><span class="mord"></span></span><span style="top:-0.1964em;"><span class="pstrut" style="height:3.3335em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.09618em;">J</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:3.497em;"><span></span></span></span></span></span></span></span></span></span></span></span></div>
<h3 id="b-implémentation">B) Implémentation<a aria-hidden="true" class="anchor-heading icon-link" href="#b-implémentation"></a></h3>
<h4 id="initialisation">Initialisation<a aria-hidden="true" class="anchor-heading icon-link" href="#initialisation"></a></h4>
<p>Pour l'implémentation de la méthode de Newton, nous avons commencé par initialiser <code>qinit</code> et fixer le <em>pas</em> et l'<em>erreur tolérée</em> <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>ϵ</mi></mrow><annotation encoding="application/x-tex">\epsilon</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">ϵ</span></span></span></span></span>.</p>
<p>Par défaut, on a fixé le <em>pas</em> à 0.1 et <em>epsilon à 0.001</em>.</p>
<p>La partie d'initialisation se termine avec la saisie par l'utilisateur du nombre maximum d'itération (utile pour stopper l'algorithm une fois ce nombre atteint).</p>
<h4 id="iterations">Iterations<a aria-hidden="true" class="anchor-heading icon-link" href="#iterations"></a></h4>
<p>La boucle d'iterartion est structuré comme suit :</p>
<pre class="language-python"><code class="language-python"><span class="token keyword">while</span><span class="token punctuation">(</span>Hnorm<span class="token operator">></span>eps <span class="token keyword">and</span> i<span class="token operator">&#x3C;</span>NbIter<span class="token punctuation">)</span> <span class="token punctuation">:</span>
    <span class="token comment"># Jacobienne</span>
    J <span class="token operator">=</span> jacobienne<span class="token punctuation">(</span>q<span class="token punctuation">)</span>
    <span class="token comment"># Calcul de l'inverse</span>
    Jinv<span class="token operator">=</span>np<span class="token punctuation">.</span>linalg<span class="token punctuation">.</span>inv<span class="token punctuation">(</span>J<span class="token punctuation">)</span>
    <span class="token comment"># Calcul de l ecart entre le Xbut et le Xc actuel</span>
    H<span class="token operator">=</span><span class="token punctuation">(</span>Xbut<span class="token operator">-</span>mgd<span class="token punctuation">(</span>q<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token comment"># Iteration</span>
    q<span class="token operator">=</span>q<span class="token operator">+</span>pas<span class="token operator">*</span>np<span class="token punctuation">.</span>dot<span class="token punctuation">(</span>Jinv<span class="token punctuation">,</span>H<span class="token punctuation">)</span>
    <span class="token comment"># Calcul de l erreur avec norme euclidienne</span>
    Hnorm<span class="token operator">=</span>np<span class="token punctuation">.</span>linalg<span class="token punctuation">.</span>norm<span class="token punctuation">(</span>H<span class="token punctuation">)</span>
    <span class="token comment"># Remplissage du vecteur avec la norme</span>
    Hq<span class="token punctuation">.</span>append<span class="token punctuation">(</span>Hnorm<span class="token punctuation">)</span>
    i<span class="token operator">=</span>i<span class="token operator">+</span><span class="token number">1</span>
</code></pre>
<p>La boucle se lance si la métrique choisie (ici on a considéré la norme euclidienne) est supérieure à l'erreur tolérée <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>ϵ</mi></mrow><annotation encoding="application/x-tex">\epsilon</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">ϵ</span></span></span></span></span></p>
<h2 id="2-méthode-du-gradient">2. Méthode du Gradient<a aria-hidden="true" class="anchor-heading icon-link" href="#2-méthode-du-gradient"></a></h2>
<blockquote>
<p><img src="/UT3-AURO-2223-S10-Dendron/assets/images/OE.TP1.Sujet-05.png"></p>
</blockquote>
<p>..</p>
<h2 id="3-utilisation-de-scipyoptimize">3. Utilisation de scipy.optimize<a aria-hidden="true" class="anchor-heading icon-link" href="#3-utilisation-de-scipyoptimize"></a></h2>
<blockquote>
<p><img src="/UT3-AURO-2223-S10-Dendron/assets/images/OE.TP1.Sujet-06.png">
<a href="https://docs.scipy.org/doc/scipy/tutorial/optimize.html">Documentation scipy.optimize</a></p>
</blockquote>
<h2 id="4-optimisation-sous-contrainte">4. Optimisation sous contrainte<a aria-hidden="true" class="anchor-heading icon-link" href="#4-optimisation-sous-contrainte"></a></h2>
<h3 id="41-contrainte-de-butée">4.1 Contrainte de butée<a aria-hidden="true" class="anchor-heading icon-link" href="#41-contrainte-de-butée"></a></h3>
<blockquote>
<p><img src="/UT3-AURO-2223-S10-Dendron/assets/images/OE.TP1.Sujet-07.png"></p>
</blockquote>
<p>..</p>
<h3 id="42-contrainte-sur-la-solution">4.2 Contrainte sur la solution<a aria-hidden="true" class="anchor-heading icon-link" href="#42-contrainte-sur-la-solution"></a></h3>
<blockquote>
<p><img src="/UT3-AURO-2223-S10-Dendron/assets/images/OE.TP1.Sujet-08.png"></p>
</blockquote>
<p>..</p>
<h2 id="5-travail-à-rendre-en-fin-de-séance">5. Travail à rendre en fin de séance<a aria-hidden="true" class="anchor-heading icon-link" href="#5-travail-à-rendre-en-fin-de-séance"></a></h2>
<blockquote>
<p><img src="/UT3-AURO-2223-S10-Dendron/assets/images/OE.TP1.Sujet-09.png"></p>
</blockquote>
<p>..</p>
<h2 id="code-fourni">Code Fourni<a aria-hidden="true" class="anchor-heading icon-link" href="#code-fourni"></a></h2>
<pre class="language-python"><code class="language-python"><span class="token comment">#############</span>
<span class="token comment"># Code à utiliser pour débuter votre TP</span>
<span class="token comment">#################</span>
<span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt
<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
<span class="token keyword">import</span> time

<span class="token comment">#################################################</span>
<span class="token comment"># Calcul du MGD du robot RRR</span>
<span class="token comment"># INPUT: q = vecteur de configuration (radian, radian, radian)</span>
<span class="token comment"># OUTPUT: Xc = vecteur de situation = (x,y, theta)</span>
<span class="token comment"># x,y en mètre et theta en radian</span>
<span class="token keyword">def</span> <span class="token function">mgd</span><span class="token punctuation">(</span>qrad<span class="token punctuation">)</span><span class="token punctuation">:</span>
<span class="token comment">#### Paramètres du robot</span>
    l<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span>
    c1<span class="token operator">=</span> np<span class="token punctuation">.</span>cos<span class="token punctuation">(</span>qrad<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    s1<span class="token operator">=</span>np<span class="token punctuation">.</span>sin<span class="token punctuation">(</span>qrad<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    c12<span class="token operator">=</span> np<span class="token punctuation">.</span>cos<span class="token punctuation">(</span>qrad<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">+</span>qrad<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    s12<span class="token operator">=</span>np<span class="token punctuation">.</span>sin<span class="token punctuation">(</span>qrad<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">+</span>qrad<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    theta<span class="token operator">=</span> qrad<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">+</span>qrad<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">+</span>qrad<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span>
    c123<span class="token operator">=</span>np<span class="token punctuation">.</span>cos<span class="token punctuation">(</span>theta<span class="token punctuation">)</span>
    s123<span class="token operator">=</span>np<span class="token punctuation">.</span>sin<span class="token punctuation">(</span>theta<span class="token punctuation">)</span>
    x<span class="token operator">=</span>l<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">*</span>c1 <span class="token operator">+</span> l<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">*</span>c12 <span class="token operator">+</span>l<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">*</span>c123
    y<span class="token operator">=</span>l<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">*</span>s1 <span class="token operator">+</span> l<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">*</span>s12 <span class="token operator">+</span>l<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">*</span>s123
    Xd<span class="token operator">=</span><span class="token punctuation">[</span>x<span class="token punctuation">,</span>y<span class="token punctuation">,</span>theta<span class="token punctuation">]</span>
    <span class="token keyword">return</span> Xd
<span class="token comment">#################################################</span>
<span class="token comment"># test de validation du MGD</span>
<span class="token comment">##### INPUT de q en degré ###</span>
qdeg <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">90</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">90</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span>
qr <span class="token operator">=</span> np<span class="token punctuation">.</span>radians<span class="token punctuation">(</span>qdeg<span class="token punctuation">)</span>
Xd<span class="token operator">=</span> mgd<span class="token punctuation">(</span>qr<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"X="</span><span class="token punctuation">,</span> Xd<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">"Y = "</span><span class="token punctuation">,</span> Xd<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">"Theta (deg)= "</span><span class="token punctuation">,</span> np<span class="token punctuation">.</span>degrees<span class="token punctuation">(</span>Xd<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment">#################################################</span>
<span class="token comment"># Calcul de J(q) du robot RRR</span>
<span class="token comment"># INPUT: q = vecteur de configuration (radian, radian, radian)</span>
<span class="token comment"># OUTPUT: jacobienne(q) analytique</span>
<span class="token keyword">def</span> <span class="token function">jacobienne</span><span class="token punctuation">(</span>qrad<span class="token punctuation">)</span><span class="token punctuation">:</span>
<span class="token comment">#### Paramètres du robot</span>
    l<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span>
    c1<span class="token operator">=</span> np<span class="token punctuation">.</span>cos<span class="token punctuation">(</span>qrad<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    s1<span class="token operator">=</span> np<span class="token punctuation">.</span>sin<span class="token punctuation">(</span>qrad<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    c12<span class="token operator">=</span> np<span class="token punctuation">.</span>cos<span class="token punctuation">(</span>qrad<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">+</span>qrad<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    s12<span class="token operator">=</span>np<span class="token punctuation">.</span>sin<span class="token punctuation">(</span>qrad<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">+</span>qrad<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    theta<span class="token operator">=</span> qrad<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">+</span>qrad<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">+</span>qrad<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span>
    theta<span class="token operator">=</span> np<span class="token punctuation">.</span>fmod<span class="token punctuation">(</span>theta<span class="token punctuation">,</span><span class="token number">2</span><span class="token operator">*</span>np<span class="token punctuation">.</span>pi<span class="token punctuation">)</span>
    c123<span class="token operator">=</span>np<span class="token punctuation">.</span>cos<span class="token punctuation">(</span>theta<span class="token punctuation">)</span>
    s123<span class="token operator">=</span>np<span class="token punctuation">.</span>sin<span class="token punctuation">(</span>theta<span class="token punctuation">)</span>
    Ja<span class="token operator">=</span>np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token operator">-</span><span class="token punctuation">(</span>l<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">*</span>s1 <span class="token operator">+</span> l<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">*</span>s12 <span class="token operator">+</span>l<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">*</span>s123<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token punctuation">(</span>l<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">*</span>s12 <span class="token operator">+</span>l<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">*</span>s123<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token punctuation">(</span>l<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">*</span>s123<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">(</span>l<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">*</span>c1 <span class="token operator">+</span> l<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">*</span>c12 <span class="token operator">+</span>l<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">*</span>c123<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>l<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">*</span>c12 <span class="token operator">+</span>l<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">*</span>c123<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>l<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">*</span>c123<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> Ja

<span class="token comment">###################################################################################</span>
<span class="token comment"># Afin de donner une situation atteignable pour le robot,</span>
<span class="token comment"># vous pouvez utiliser le mgd pour définir Xbut à partir d’une configuration en q</span>
<span class="token comment">###################################################################################</span>
<span class="token comment">## qbut est donné en degré</span>
qbutdeg<span class="token operator">=</span> np<span class="token punctuation">.</span>asarray<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">45</span><span class="token punctuation">,</span> <span class="token number">45</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">60.</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token comment">## Calcul Xbut à partir de qbut</span>
Xbut<span class="token operator">=</span> np<span class="token punctuation">.</span>asarray<span class="token punctuation">(</span>mgd<span class="token punctuation">(</span>np<span class="token punctuation">.</span>radians<span class="token punctuation">(</span>qbutdeg<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Xbut="</span><span class="token punctuation">,</span> Xbut<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">"Ybut = "</span><span class="token punctuation">,</span> Xbut<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">"Theta but (deg)= "</span><span class="token punctuation">,</span> np<span class="token punctuation">.</span>degrees<span class="token punctuation">(</span>Xbut<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment">############################################</span>
<span class="token comment">## Fct d’affichage 2D du robot dans le plan</span>
<span class="token keyword">def</span> <span class="token function">dessinRRR</span><span class="token punctuation">(</span>q<span class="token punctuation">)</span> <span class="token punctuation">:</span>
xA<span class="token punctuation">,</span> yA <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
xB<span class="token punctuation">,</span> yB <span class="token operator">=</span> <span class="token punctuation">(</span>np<span class="token punctuation">.</span>cos<span class="token punctuation">(</span>q<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> np<span class="token punctuation">.</span>sin<span class="token punctuation">(</span>q<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
xC<span class="token punctuation">,</span> yC <span class="token operator">=</span> <span class="token punctuation">(</span>np<span class="token punctuation">.</span>cos<span class="token punctuation">(</span>q<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">+</span> np<span class="token punctuation">.</span>cos<span class="token punctuation">(</span>q<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">+</span>q<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>np<span class="token punctuation">.</span>sin<span class="token punctuation">(</span>q<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">+</span> np<span class="token punctuation">.</span>sin<span class="token punctuation">(</span>q<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">+</span>q<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
xD<span class="token punctuation">,</span> yD <span class="token operator">=</span> <span class="token punctuation">(</span>np<span class="token punctuation">.</span>cos<span class="token punctuation">(</span>q<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">+</span> np<span class="token punctuation">.</span>cos<span class="token punctuation">(</span>q<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">+</span>q<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">+</span> np<span class="token punctuation">.</span>cos<span class="token punctuation">(</span>q<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">+</span>q<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">+</span>q<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span>np<span class="token punctuation">.</span>sin<span class="token punctuation">(</span>q<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">+</span> np
X<span class="token operator">=</span><span class="token punctuation">[</span>xA<span class="token punctuation">,</span> xB<span class="token punctuation">,</span>xC<span class="token punctuation">,</span>xD<span class="token punctuation">]</span>
Y<span class="token operator">=</span><span class="token punctuation">[</span>yA<span class="token punctuation">,</span>yB<span class="token punctuation">,</span>yC<span class="token punctuation">,</span>yD<span class="token punctuation">]</span>
plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>X<span class="token punctuation">,</span>Y<span class="token punctuation">,</span> color<span class="token operator">=</span><span class="token string">"orange"</span><span class="token punctuation">,</span> lw<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">,</span> alpha<span class="token operator">=</span><span class="token number">0.5</span><span class="token punctuation">,</span> marker<span class="token operator">=</span><span class="token string">"o"</span><span class="token punctuation">,</span> markersize<span class="token operator">=</span><span class="token number">20</span><span class="token punctuation">,</span> mfc<span class="token operator">=</span><span class="token string">"red"</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>axis<span class="token punctuation">(</span>’equal’<span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>axis<span class="token punctuation">(</span>’off’<span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">################################################</span>
<span class="token comment">############ Exemple d’affichage</span>
dessinRRR<span class="token punctuation">(</span>np<span class="token punctuation">.</span>radians<span class="token punctuation">(</span>qbutdeg<span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment">########################################</span>
<span class="token comment">######</span>
<span class="token comment">###### Boucle principale de calcul du MGI</span>
<span class="token comment">######################################</span>
<span class="token comment">####</span>
<span class="token comment">#### Définition de Xbut à partir de qbutdeg en degré</span>
qbutdeg<span class="token operator">=</span> np<span class="token punctuation">.</span>asarray<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">45.</span><span class="token punctuation">,</span><span class="token number">45.</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">60</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
qbut <span class="token operator">=</span> np<span class="token punctuation">.</span>radians<span class="token punctuation">(</span>qbutdeg<span class="token punctuation">)</span>
Xbut<span class="token operator">=</span> np<span class="token punctuation">.</span>asarray<span class="token punctuation">(</span>mgd<span class="token punctuation">(</span>qbut<span class="token punctuation">)</span><span class="token punctuation">)</span>
dessinRRR<span class="token punctuation">(</span>qbut<span class="token punctuation">)</span>
<span class="token comment">#### Définition de qinit</span>
qinitdeg<span class="token operator">=</span>np<span class="token punctuation">.</span>asarray<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">120.</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">,</span> <span class="token number">45.</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
qinit<span class="token operator">=</span> np<span class="token punctuation">.</span>radians<span class="token punctuation">(</span>qinitdeg<span class="token punctuation">)</span>
Xinit<span class="token operator">=</span>np<span class="token punctuation">.</span>asarray<span class="token punctuation">(</span>mgd<span class="token punctuation">(</span>qinit<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Xinit = "</span><span class="token punctuation">,</span>Xinit<span class="token punctuation">)</span>

<span class="token comment">##### A CODER</span>
<span class="token comment">##q= qinit</span>
<span class="token comment">##i=0</span>
<span class="token comment">##</span>
<span class="token comment">##</span>
<span class="token comment">##nbpas= ???</span>
<span class="token comment">##epsx= ???</span>
<span class="token comment">## erx = valeur initale de du critère qu’on cherche à minimiser</span>
<span class="token comment">##list_erreur = [erx] #</span>
<span class="token comment">##start_time = time.process_time()</span>
<span class="token comment">##while (????):</span>
<span class="token comment">## direction = ???</span>
<span class="token comment">## pas= ???</span>
<span class="token comment">## ...</span>
<span class="token comment">## ...</span>
<span class="token comment">## list_erreur.append(erx) # Stocker la valeur du critère dans une liste</span>
<span class="token comment">## i=i+1</span>
<span class="token comment">##print("--- %s seconds ---" % round(time.process_time() - start_time,6))</span>
<span class="token comment">### Visualisation des résultats</span>
<span class="token comment">##print("Valeur finale du critère =",??," après ",i," itérations")</span>
<span class="token comment">##print("qinit en deg =", qinitdeg)</span>
<span class="token comment">##print("qcfinal en deg", np.degrees(qc))</span>
<span class="token comment">##X= mgd(qc)</span>
<span class="token comment">##print("Xinit =",Xinit, type(Xinit))</span>
<span class="token comment">##print("Xfinal avec qfinal = ",X)</span>
<span class="token comment">##print("Xbut à atteindre =", Xbut, type(Xbut))</span>
<span class="token comment">##Xer= Xbut -X</span>
<span class="token comment">##erx=np.linalg.norm(Xer)</span>
<span class="token comment">##print("Erreur finale=",erx)</span>
<span class="token comment">##abs = np.linspace(0,len(list_erreur)-1,(len(list_erreur)))</span>
<span class="token comment">##plt.plot(abs,list_erreur,’k’)</span>
<span class="token comment">##plt.show(block=True)</span>
<span class="token comment">##</span>
<span class="token comment">##dessinRRR(qc)</span>
</code></pre>
<hr>
<strong>Backlinks</strong>
<ul>
<li><a href="/UT3-AURO-2223-S10-Dendron/notes/gl1apfmwn08a0zi3hgcy3n9">OE - Optimisation &#x26; Estimation</a></li>
</ul>